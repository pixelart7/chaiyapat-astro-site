---
const { style, classes } = Astro.props
---

<style is:inline set:html={style}></style>
<section class={`
  note-prose
  prose mx-auto dark:prose-invert font-essay
  prose-a:text-primary-900 dark:prose-a:text-primary-300
  hover:prose-a:opacity-75
  sm:prose-img:rounded prose-img:border prose-img:bg-neutral-300 prose-img:dark:bg-neutral-800
  prose-img:max-h-[420px] prose-img:mx-auto
  prose-figcaption:text-center
  prose-figure:-mx-4 md:prose-figure:-mx-8 sm:prose-figure:mx-0
  prose-h1:border-b prose-h1:pb-2 prose-h1:border-gray-500/40
  prose-h1:text-2xl prose-h2:text-xl prose-h3:text-lg prose-h4:text-lg prose-h5:text-lg prose-h6:text-lg
  ${classes}
`}
>
  <slot />
</section>

<style is:global lang="scss">
  section.note-prose {
    span.broken-link {
      @apply text-primary-900 opacity-90 underline decoration-dashed;
    }
    ul li > p {
      margin-top: 0;
      margin-bottom: 0;
    }
    blockquote.callout {
      border: none;
      @apply rounded overflow-hidden;

      .callout-content, .callout-title {
        @apply p-3;
      }
      .callout-content {
        & > p{
          @apply m-0;
        }
      }
    }
  }

  section.note-prose {
    &.note-dir-ttrpg, &.note-file-ttrpg {
      @apply prose-p:font-sans prose-tr:font-sans prose-headings:font-display prose-li:font-sans prose-strong:font-sans prose-em:opacity-60 prose-em:font-essay;
    }
  }
</style>